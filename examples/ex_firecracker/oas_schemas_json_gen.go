// Code generated by ogen, DO NOT EDIT.

package api

import (
	"bytes"
	"context"
	"errors"
	"fmt"
	"io"
	"math"
	"net"
	"net/http"
	"net/url"
	"sort"
	"strconv"
	"strings"
	"time"

	"github.com/go-chi/chi/v5"
	"github.com/google/uuid"
	"github.com/ogen-go/ogen/conv"
	ht "github.com/ogen-go/ogen/http"
	"github.com/ogen-go/ogen/json"
	"github.com/ogen-go/ogen/uri"
	"github.com/ogen-go/ogen/validate"
)

// No-op definition for keeping imports.
var (
	_ = context.Background()
	_ = fmt.Stringer(nil)
	_ = strings.Builder{}
	_ = errors.Is
	_ = sort.Ints
	_ = chi.Context{}
	_ = http.MethodGet
	_ = io.Copy
	_ = json.Marshal
	_ = bytes.NewReader
	_ = strconv.ParseInt
	_ = time.Time{}
	_ = conv.ToInt32
	_ = uuid.UUID{}
	_ = uri.PathEncoder{}
	_ = url.URL{}
	_ = math.Mod
	_ = validate.Int{}
	_ = ht.NewRequest
	_ = net.IP{}
)

// WriteJSON implements json.Marshaler.
func (s Balloon) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("amount_mib")
	j.WriteInt(s.AmountMib)
	more.More()
	j.WriteObjectField("deflate_on_oom")
	j.WriteBool(s.DeflateOnOom)
	if s.StatsPollingIntervalS.Set {
		more.More()
		j.WriteObjectField("stats_polling_interval_s")
		s.StatsPollingIntervalS.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes Balloon json value to io.Writer.
func (s Balloon) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Balloon json value from io.Reader.
func (s *Balloon) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Balloon from json stream.
func (s *Balloon) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "amount_mib":
			if err := func() error {
				s.AmountMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "deflate_on_oom":
			if err := func() error {
				s.DeflateOnOom = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "stats_polling_interval_s":
			if err := func() error {
				if err := s.StatsPollingIntervalS.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonStats) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("actual_mib")
	j.WriteInt(s.ActualMib)
	more.More()
	j.WriteObjectField("actual_pages")
	j.WriteInt(s.ActualPages)
	if s.AvailableMemory.Set {
		more.More()
		j.WriteObjectField("available_memory")
		s.AvailableMemory.WriteJSON(j)
	}
	if s.DiskCaches.Set {
		more.More()
		j.WriteObjectField("disk_caches")
		s.DiskCaches.WriteJSON(j)
	}
	if s.FreeMemory.Set {
		more.More()
		j.WriteObjectField("free_memory")
		s.FreeMemory.WriteJSON(j)
	}
	if s.HugetlbAllocations.Set {
		more.More()
		j.WriteObjectField("hugetlb_allocations")
		s.HugetlbAllocations.WriteJSON(j)
	}
	if s.HugetlbFailures.Set {
		more.More()
		j.WriteObjectField("hugetlb_failures")
		s.HugetlbFailures.WriteJSON(j)
	}
	if s.MajorFaults.Set {
		more.More()
		j.WriteObjectField("major_faults")
		s.MajorFaults.WriteJSON(j)
	}
	if s.MinorFaults.Set {
		more.More()
		j.WriteObjectField("minor_faults")
		s.MinorFaults.WriteJSON(j)
	}
	if s.SwapIn.Set {
		more.More()
		j.WriteObjectField("swap_in")
		s.SwapIn.WriteJSON(j)
	}
	if s.SwapOut.Set {
		more.More()
		j.WriteObjectField("swap_out")
		s.SwapOut.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("target_mib")
	j.WriteInt(s.TargetMib)
	more.More()
	j.WriteObjectField("target_pages")
	j.WriteInt(s.TargetPages)
	if s.TotalMemory.Set {
		more.More()
		j.WriteObjectField("total_memory")
		s.TotalMemory.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes BalloonStats json value to io.Writer.
func (s BalloonStats) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads BalloonStats json value from io.Reader.
func (s *BalloonStats) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads BalloonStats from json stream.
func (s *BalloonStats) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "actual_mib":
			if err := func() error {
				s.ActualMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "actual_pages":
			if err := func() error {
				s.ActualPages = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "available_memory":
			if err := func() error {
				if err := s.AvailableMemory.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "disk_caches":
			if err := func() error {
				if err := s.DiskCaches.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "free_memory":
			if err := func() error {
				if err := s.FreeMemory.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "hugetlb_allocations":
			if err := func() error {
				if err := s.HugetlbAllocations.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "hugetlb_failures":
			if err := func() error {
				if err := s.HugetlbFailures.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "major_faults":
			if err := func() error {
				if err := s.MajorFaults.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "minor_faults":
			if err := func() error {
				if err := s.MinorFaults.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "swap_in":
			if err := func() error {
				if err := s.SwapIn.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "swap_out":
			if err := func() error {
				if err := s.SwapOut.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "target_mib":
			if err := func() error {
				s.TargetMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "target_pages":
			if err := func() error {
				s.TargetPages = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "total_memory":
			if err := func() error {
				if err := s.TotalMemory.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonStatsUpdate) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("stats_polling_interval_s")
	j.WriteInt(s.StatsPollingIntervalS)
	j.WriteObjectEnd()
}

// WriteJSONTo writes BalloonStatsUpdate json value to io.Writer.
func (s BalloonStatsUpdate) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads BalloonStatsUpdate json value from io.Reader.
func (s *BalloonStatsUpdate) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads BalloonStatsUpdate from json stream.
func (s *BalloonStatsUpdate) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "stats_polling_interval_s":
			if err := func() error {
				s.StatsPollingIntervalS = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonUpdate) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("amount_mib")
	j.WriteInt(s.AmountMib)
	j.WriteObjectEnd()
}

// WriteJSONTo writes BalloonUpdate json value to io.Writer.
func (s BalloonUpdate) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads BalloonUpdate json value from io.Reader.
func (s *BalloonUpdate) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads BalloonUpdate from json stream.
func (s *BalloonUpdate) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "amount_mib":
			if err := func() error {
				s.AmountMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BootSource) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.BootArgs.Set {
		more.More()
		j.WriteObjectField("boot_args")
		s.BootArgs.WriteJSON(j)
	}
	if s.InitrdPath.Set {
		more.More()
		j.WriteObjectField("initrd_path")
		s.InitrdPath.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("kernel_image_path")
	j.WriteString(s.KernelImagePath)
	j.WriteObjectEnd()
}

// WriteJSONTo writes BootSource json value to io.Writer.
func (s BootSource) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads BootSource json value from io.Reader.
func (s *BootSource) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads BootSource from json stream.
func (s *BootSource) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "boot_args":
			if err := func() error {
				if err := s.BootArgs.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "initrd_path":
			if err := func() error {
				if err := s.InitrdPath.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "kernel_image_path":
			if err := func() error {
				s.KernelImagePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CpuTemplate) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads CpuTemplate from json stream.
func (s *CpuTemplate) ReadJSON(i *json.Iterator) error {
	*s = CpuTemplate(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CreateSnapshotNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes CreateSnapshotNoContent json value to io.Writer.
func (s CreateSnapshotNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads CreateSnapshotNoContent json value from io.Reader.
func (s *CreateSnapshotNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads CreateSnapshotNoContent from json stream.
func (s *CreateSnapshotNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CreateSyncActionNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes CreateSyncActionNoContent json value to io.Writer.
func (s CreateSyncActionNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads CreateSyncActionNoContent json value from io.Reader.
func (s *CreateSyncActionNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads CreateSyncActionNoContent from json stream.
func (s *CreateSyncActionNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Drive) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.CacheType.Set {
		more.More()
		j.WriteObjectField("cache_type")
		s.CacheType.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("drive_id")
	j.WriteString(s.DriveID)
	more.More()
	j.WriteObjectField("is_read_only")
	j.WriteBool(s.IsReadOnly)
	more.More()
	j.WriteObjectField("is_root_device")
	j.WriteBool(s.IsRootDevice)
	if s.Partuuid.Set {
		more.More()
		j.WriteObjectField("partuuid")
		s.Partuuid.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("path_on_host")
	j.WriteString(s.PathOnHost)
	if s.RateLimiter.Set {
		more.More()
		j.WriteObjectField("rate_limiter")
		s.RateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes Drive json value to io.Writer.
func (s Drive) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Drive json value from io.Reader.
func (s *Drive) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Drive from json stream.
func (s *Drive) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "cache_type":
			if err := func() error {
				if err := s.CacheType.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "drive_id":
			if err := func() error {
				s.DriveID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "is_read_only":
			if err := func() error {
				s.IsReadOnly = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "is_root_device":
			if err := func() error {
				s.IsRootDevice = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "partuuid":
			if err := func() error {
				if err := s.Partuuid.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "path_on_host":
			if err := func() error {
				s.PathOnHost = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rate_limiter":
			if err := func() error {
				if err := s.RateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Error) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.FaultMessage.Set {
		more.More()
		j.WriteObjectField("fault_message")
		s.FaultMessage.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes Error json value to io.Writer.
func (s Error) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Error json value from io.Reader.
func (s *Error) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Error from json stream.
func (s *Error) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "fault_message":
			if err := func() error {
				if err := s.FaultMessage.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s ErrorStatusCode) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes ErrorStatusCode json value to io.Writer.
func (s ErrorStatusCode) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads ErrorStatusCode json value from io.Reader.
func (s *ErrorStatusCode) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads ErrorStatusCode from json stream.
func (s *ErrorStatusCode) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s FullVmConfiguration) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.BalloonDevice.Set {
		more.More()
		j.WriteObjectField("balloon_device")
		s.BalloonDevice.WriteJSON(j)
	}
	if s.BlockDevices != nil {
		more.More()
		j.WriteObjectField("block_devices")
		more.Down()
		j.WriteArrayStart()
		for _, elem := range s.BlockDevices {
			more.More()
			elem.WriteJSON(j)
		}
		j.WriteArrayEnd()
		more.Up()
	}
	if s.BootSource.Set {
		more.More()
		j.WriteObjectField("boot_source")
		s.BootSource.WriteJSON(j)
	}
	if s.Logger.Set {
		more.More()
		j.WriteObjectField("logger")
		s.Logger.WriteJSON(j)
	}
	if s.MachineConfig.Set {
		more.More()
		j.WriteObjectField("machine_config")
		s.MachineConfig.WriteJSON(j)
	}
	if s.Metrics.Set {
		more.More()
		j.WriteObjectField("metrics")
		s.Metrics.WriteJSON(j)
	}
	if s.MmdsConfig.Set {
		more.More()
		j.WriteObjectField("mmds_config")
		s.MmdsConfig.WriteJSON(j)
	}
	if s.NetDevices != nil {
		more.More()
		j.WriteObjectField("net_devices")
		more.Down()
		j.WriteArrayStart()
		for _, elem := range s.NetDevices {
			more.More()
			elem.WriteJSON(j)
		}
		j.WriteArrayEnd()
		more.Up()
	}
	if s.VsockDevice.Set {
		more.More()
		j.WriteObjectField("vsock_device")
		s.VsockDevice.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes FullVmConfiguration json value to io.Writer.
func (s FullVmConfiguration) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads FullVmConfiguration json value from io.Reader.
func (s *FullVmConfiguration) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads FullVmConfiguration from json stream.
func (s *FullVmConfiguration) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "balloon_device":
			if err := func() error {
				if err := s.BalloonDevice.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "block_devices":
			if err := func() error {
				var retErr error
				i.ReadArrayCB(func(i *json.Iterator) bool {
					var elem Drive
					if err := func() error {
						if err := elem.ReadJSON(i); err != nil {
							return err
						}
						return i.Error
					}(); err != nil {
						retErr = err
						return false
					}
					s.BlockDevices = append(s.BlockDevices, elem)
					return true
				})
				if retErr != nil {
					return retErr
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "boot_source":
			if err := func() error {
				if err := s.BootSource.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "logger":
			if err := func() error {
				if err := s.Logger.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "machine_config":
			if err := func() error {
				if err := s.MachineConfig.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "metrics":
			if err := func() error {
				if err := s.Metrics.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mmds_config":
			if err := func() error {
				if err := s.MmdsConfig.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "net_devices":
			if err := func() error {
				var retErr error
				i.ReadArrayCB(func(i *json.Iterator) bool {
					var elem NetworkInterface
					if err := func() error {
						if err := elem.ReadJSON(i); err != nil {
							return err
						}
						return i.Error
					}(); err != nil {
						retErr = err
						return false
					}
					s.NetDevices = append(s.NetDevices, elem)
					return true
				})
				if retErr != nil {
					return retErr
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vsock_device":
			if err := func() error {
				if err := s.VsockDevice.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceActionInfo) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("action_type")
	s.ActionType.WriteJSON(j)
	j.WriteObjectEnd()
}

// WriteJSONTo writes InstanceActionInfo json value to io.Writer.
func (s InstanceActionInfo) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads InstanceActionInfo json value from io.Reader.
func (s *InstanceActionInfo) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads InstanceActionInfo from json stream.
func (s *InstanceActionInfo) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "action_type":
			if err := func() error {
				s.ActionType = InstanceActionInfoActionType(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceActionInfoActionType) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads InstanceActionInfoActionType from json stream.
func (s *InstanceActionInfoActionType) ReadJSON(i *json.Iterator) error {
	*s = InstanceActionInfoActionType(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceInfo) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("app_name")
	j.WriteString(s.AppName)
	more.More()
	j.WriteObjectField("id")
	j.WriteString(s.ID)
	more.More()
	j.WriteObjectField("state")
	s.State.WriteJSON(j)
	more.More()
	j.WriteObjectField("vmm_version")
	j.WriteString(s.VmmVersion)
	j.WriteObjectEnd()
}

// WriteJSONTo writes InstanceInfo json value to io.Writer.
func (s InstanceInfo) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads InstanceInfo json value from io.Reader.
func (s *InstanceInfo) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads InstanceInfo from json stream.
func (s *InstanceInfo) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "app_name":
			if err := func() error {
				s.AppName = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "id":
			if err := func() error {
				s.ID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "state":
			if err := func() error {
				s.State = InstanceInfoState(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vmm_version":
			if err := func() error {
				s.VmmVersion = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceInfoState) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads InstanceInfoState from json stream.
func (s *InstanceInfoState) ReadJSON(i *json.Iterator) error {
	*s = InstanceInfoState(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s LoadSnapshotNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes LoadSnapshotNoContent json value to io.Writer.
func (s LoadSnapshotNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads LoadSnapshotNoContent json value from io.Reader.
func (s *LoadSnapshotNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads LoadSnapshotNoContent from json stream.
func (s *LoadSnapshotNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Logger) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Level.Set {
		more.More()
		j.WriteObjectField("level")
		s.Level.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("log_path")
	j.WriteString(s.LogPath)
	if s.ShowLevel.Set {
		more.More()
		j.WriteObjectField("show_level")
		s.ShowLevel.WriteJSON(j)
	}
	if s.ShowLogOrigin.Set {
		more.More()
		j.WriteObjectField("show_log_origin")
		s.ShowLogOrigin.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes Logger json value to io.Writer.
func (s Logger) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Logger json value from io.Reader.
func (s *Logger) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Logger from json stream.
func (s *Logger) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "level":
			if err := func() error {
				if err := s.Level.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "log_path":
			if err := func() error {
				s.LogPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "show_level":
			if err := func() error {
				if err := s.ShowLevel.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "show_log_origin":
			if err := func() error {
				if err := s.ShowLogOrigin.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s LoggerLevel) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads LoggerLevel from json stream.
func (s *LoggerLevel) ReadJSON(i *json.Iterator) error {
	*s = LoggerLevel(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MachineConfiguration) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.CPUTemplate.Set {
		more.More()
		j.WriteObjectField("cpu_template")
		s.CPUTemplate.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("ht_enabled")
	j.WriteBool(s.HtEnabled)
	more.More()
	j.WriteObjectField("mem_size_mib")
	j.WriteInt(s.MemSizeMib)
	if s.TrackDirtyPages.Set {
		more.More()
		j.WriteObjectField("track_dirty_pages")
		s.TrackDirtyPages.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("vcpu_count")
	j.WriteInt(s.VcpuCount)
	j.WriteObjectEnd()
}

// WriteJSONTo writes MachineConfiguration json value to io.Writer.
func (s MachineConfiguration) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MachineConfiguration json value from io.Reader.
func (s *MachineConfiguration) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MachineConfiguration from json stream.
func (s *MachineConfiguration) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "cpu_template":
			if err := func() error {
				if err := s.CPUTemplate.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "ht_enabled":
			if err := func() error {
				s.HtEnabled = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mem_size_mib":
			if err := func() error {
				s.MemSizeMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "track_dirty_pages":
			if err := func() error {
				if err := s.TrackDirtyPages.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vcpu_count":
			if err := func() error {
				s.VcpuCount = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Metrics) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("metrics_path")
	j.WriteString(s.MetricsPath)
	j.WriteObjectEnd()
}

// WriteJSONTo writes Metrics json value to io.Writer.
func (s Metrics) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Metrics json value from io.Reader.
func (s *Metrics) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Metrics from json stream.
func (s *Metrics) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "metrics_path":
			if err := func() error {
				s.MetricsPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsConfig) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Ipv4Address.Set {
		more.More()
		j.WriteObjectField("ipv4_address")
		s.Ipv4Address.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsConfig json value to io.Writer.
func (s MmdsConfig) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsConfig json value from io.Reader.
func (s *MmdsConfig) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsConfig from json stream.
func (s *MmdsConfig) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "ipv4_address":
			if err := func() error {
				if err := s.Ipv4Address.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsConfigPutNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsConfigPutNoContent json value to io.Writer.
func (s MmdsConfigPutNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsConfigPutNoContent json value from io.Reader.
func (s *MmdsConfigPutNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsConfigPutNoContent from json stream.
func (s *MmdsConfigPutNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsGetOK) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsGetOK json value to io.Writer.
func (s MmdsGetOK) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsGetOK json value from io.Reader.
func (s *MmdsGetOK) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsGetOK from json stream.
func (s *MmdsGetOK) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPatchApplicationJSONReq) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsPatchApplicationJSONReq json value to io.Writer.
func (s MmdsPatchApplicationJSONReq) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsPatchApplicationJSONReq json value from io.Reader.
func (s *MmdsPatchApplicationJSONReq) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsPatchApplicationJSONReq from json stream.
func (s *MmdsPatchApplicationJSONReq) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPatchNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsPatchNoContent json value to io.Writer.
func (s MmdsPatchNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsPatchNoContent json value from io.Reader.
func (s *MmdsPatchNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsPatchNoContent from json stream.
func (s *MmdsPatchNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPutApplicationJSONReq) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsPutApplicationJSONReq json value to io.Writer.
func (s MmdsPutApplicationJSONReq) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsPutApplicationJSONReq json value from io.Reader.
func (s *MmdsPutApplicationJSONReq) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsPutApplicationJSONReq from json stream.
func (s *MmdsPutApplicationJSONReq) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPutNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes MmdsPutNoContent json value to io.Writer.
func (s MmdsPutNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads MmdsPutNoContent json value from io.Reader.
func (s *MmdsPutNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads MmdsPutNoContent from json stream.
func (s *MmdsPutNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s NetworkInterface) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.AllowMmdsRequests.Set {
		more.More()
		j.WriteObjectField("allow_mmds_requests")
		s.AllowMmdsRequests.WriteJSON(j)
	}
	if s.GuestMAC.Set {
		more.More()
		j.WriteObjectField("guest_mac")
		s.GuestMAC.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("host_dev_name")
	j.WriteString(s.HostDevName)
	more.More()
	j.WriteObjectField("iface_id")
	j.WriteString(s.IfaceID)
	if s.RxRateLimiter.Set {
		more.More()
		j.WriteObjectField("rx_rate_limiter")
		s.RxRateLimiter.WriteJSON(j)
	}
	if s.TxRateLimiter.Set {
		more.More()
		j.WriteObjectField("tx_rate_limiter")
		s.TxRateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes NetworkInterface json value to io.Writer.
func (s NetworkInterface) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads NetworkInterface json value from io.Reader.
func (s *NetworkInterface) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads NetworkInterface from json stream.
func (s *NetworkInterface) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "allow_mmds_requests":
			if err := func() error {
				if err := s.AllowMmdsRequests.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "guest_mac":
			if err := func() error {
				if err := s.GuestMAC.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "host_dev_name":
			if err := func() error {
				s.HostDevName = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "iface_id":
			if err := func() error {
				s.IfaceID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rx_rate_limiter":
			if err := func() error {
				if err := s.RxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "tx_rate_limiter":
			if err := func() error {
				if err := s.TxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON writes json value of Balloon to json stream.
func (o OptBalloon) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Balloon from json iterator.
func (o *OptBalloon) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptBalloon", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of bool to json stream.
func (o OptBool) WriteJSON(j *json.Stream) {
	j.WriteBool(bool(o.Value))
}

// ReadJSON reads json value of bool from json iterator.
func (o *OptBool) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.BoolValue:
		o.Set = true
		o.Value = bool(i.ReadBool())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptBool", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of BootSource to json stream.
func (o OptBootSource) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of BootSource from json iterator.
func (o *OptBootSource) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptBootSource", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of CpuTemplate to json stream.
func (o OptCpuTemplate) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of CpuTemplate from json iterator.
func (o *OptCpuTemplate) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = CpuTemplate(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptCpuTemplate", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of int to json stream.
func (o OptInt) WriteJSON(j *json.Stream) {
	j.WriteInt(int(o.Value))
}

// ReadJSON reads json value of int from json iterator.
func (o *OptInt) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.NumberValue:
		o.Set = true
		o.Value = int(i.ReadInt())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptInt", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of int64 to json stream.
func (o OptInt64) WriteJSON(j *json.Stream) {
	j.WriteInt64(int64(o.Value))
}

// ReadJSON reads json value of int64 from json iterator.
func (o *OptInt64) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.NumberValue:
		o.Set = true
		o.Value = int64(i.ReadInt64())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptInt64", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of Logger to json stream.
func (o OptLogger) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Logger from json iterator.
func (o *OptLogger) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptLogger", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of LoggerLevel to json stream.
func (o OptLoggerLevel) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of LoggerLevel from json iterator.
func (o *OptLoggerLevel) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = LoggerLevel(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptLoggerLevel", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of MachineConfiguration to json stream.
func (o OptMachineConfiguration) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of MachineConfiguration from json iterator.
func (o *OptMachineConfiguration) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptMachineConfiguration", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of Metrics to json stream.
func (o OptMetrics) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Metrics from json iterator.
func (o *OptMetrics) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptMetrics", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of MmdsConfig to json stream.
func (o OptMmdsConfig) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of MmdsConfig from json iterator.
func (o *OptMmdsConfig) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptMmdsConfig", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of RateLimiter to json stream.
func (o OptRateLimiter) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of RateLimiter from json iterator.
func (o *OptRateLimiter) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptRateLimiter", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of SnapshotCreateParamsSnapshotType to json stream.
func (o OptSnapshotCreateParamsSnapshotType) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of SnapshotCreateParamsSnapshotType from json iterator.
func (o *OptSnapshotCreateParamsSnapshotType) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = SnapshotCreateParamsSnapshotType(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptSnapshotCreateParamsSnapshotType", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of string to json stream.
func (o OptString) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of string from json iterator.
func (o *OptString) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = string(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptString", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of TokenBucket to json stream.
func (o OptTokenBucket) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of TokenBucket from json iterator.
func (o *OptTokenBucket) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptTokenBucket", i.WhatIsNext())
	}
	return nil
}

// WriteJSON writes json value of Vsock to json stream.
func (o OptVsock) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Vsock from json iterator.
func (o *OptVsock) ReadJSON(i *json.Iterator) error {
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %d while reading OptVsock", i.WhatIsNext())
	}
	return nil
}

// WriteJSON implements json.Marshaler.
func (s PartialDrive) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("drive_id")
	j.WriteString(s.DriveID)
	if s.PathOnHost.Set {
		more.More()
		j.WriteObjectField("path_on_host")
		s.PathOnHost.WriteJSON(j)
	}
	if s.RateLimiter.Set {
		more.More()
		j.WriteObjectField("rate_limiter")
		s.RateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes PartialDrive json value to io.Writer.
func (s PartialDrive) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PartialDrive json value from io.Reader.
func (s *PartialDrive) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PartialDrive from json stream.
func (s *PartialDrive) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "drive_id":
			if err := func() error {
				s.DriveID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "path_on_host":
			if err := func() error {
				if err := s.PathOnHost.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rate_limiter":
			if err := func() error {
				if err := s.RateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PartialNetworkInterface) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("iface_id")
	j.WriteString(s.IfaceID)
	if s.RxRateLimiter.Set {
		more.More()
		j.WriteObjectField("rx_rate_limiter")
		s.RxRateLimiter.WriteJSON(j)
	}
	if s.TxRateLimiter.Set {
		more.More()
		j.WriteObjectField("tx_rate_limiter")
		s.TxRateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes PartialNetworkInterface json value to io.Writer.
func (s PartialNetworkInterface) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PartialNetworkInterface json value from io.Reader.
func (s *PartialNetworkInterface) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PartialNetworkInterface from json stream.
func (s *PartialNetworkInterface) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "iface_id":
			if err := func() error {
				s.IfaceID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rx_rate_limiter":
			if err := func() error {
				if err := s.RxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "tx_rate_limiter":
			if err := func() error {
				if err := s.TxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchBalloonNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchBalloonNoContent json value to io.Writer.
func (s PatchBalloonNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchBalloonNoContent json value from io.Reader.
func (s *PatchBalloonNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchBalloonNoContent from json stream.
func (s *PatchBalloonNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchBalloonStatsIntervalNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchBalloonStatsIntervalNoContent json value to io.Writer.
func (s PatchBalloonStatsIntervalNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchBalloonStatsIntervalNoContent json value from io.Reader.
func (s *PatchBalloonStatsIntervalNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchBalloonStatsIntervalNoContent from json stream.
func (s *PatchBalloonStatsIntervalNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchGuestDriveByIDNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchGuestDriveByIDNoContent json value to io.Writer.
func (s PatchGuestDriveByIDNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchGuestDriveByIDNoContent json value from io.Reader.
func (s *PatchGuestDriveByIDNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchGuestDriveByIDNoContent from json stream.
func (s *PatchGuestDriveByIDNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchGuestNetworkInterfaceByIDNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchGuestNetworkInterfaceByIDNoContent json value to io.Writer.
func (s PatchGuestNetworkInterfaceByIDNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchGuestNetworkInterfaceByIDNoContent json value from io.Reader.
func (s *PatchGuestNetworkInterfaceByIDNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchGuestNetworkInterfaceByIDNoContent from json stream.
func (s *PatchGuestNetworkInterfaceByIDNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchMachineConfigurationNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchMachineConfigurationNoContent json value to io.Writer.
func (s PatchMachineConfigurationNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchMachineConfigurationNoContent json value from io.Reader.
func (s *PatchMachineConfigurationNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchMachineConfigurationNoContent from json stream.
func (s *PatchMachineConfigurationNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchVmNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PatchVmNoContent json value to io.Writer.
func (s PatchVmNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PatchVmNoContent json value from io.Reader.
func (s *PatchVmNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PatchVmNoContent from json stream.
func (s *PatchVmNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutBalloonNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutBalloonNoContent json value to io.Writer.
func (s PutBalloonNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutBalloonNoContent json value from io.Reader.
func (s *PutBalloonNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutBalloonNoContent from json stream.
func (s *PutBalloonNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestBootSourceNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutGuestBootSourceNoContent json value to io.Writer.
func (s PutGuestBootSourceNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutGuestBootSourceNoContent json value from io.Reader.
func (s *PutGuestBootSourceNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutGuestBootSourceNoContent from json stream.
func (s *PutGuestBootSourceNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestDriveByIDNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutGuestDriveByIDNoContent json value to io.Writer.
func (s PutGuestDriveByIDNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutGuestDriveByIDNoContent json value from io.Reader.
func (s *PutGuestDriveByIDNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutGuestDriveByIDNoContent from json stream.
func (s *PutGuestDriveByIDNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestNetworkInterfaceByIDNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutGuestNetworkInterfaceByIDNoContent json value to io.Writer.
func (s PutGuestNetworkInterfaceByIDNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutGuestNetworkInterfaceByIDNoContent json value from io.Reader.
func (s *PutGuestNetworkInterfaceByIDNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutGuestNetworkInterfaceByIDNoContent from json stream.
func (s *PutGuestNetworkInterfaceByIDNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestVsockNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutGuestVsockNoContent json value to io.Writer.
func (s PutGuestVsockNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutGuestVsockNoContent json value from io.Reader.
func (s *PutGuestVsockNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutGuestVsockNoContent from json stream.
func (s *PutGuestVsockNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutLoggerNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutLoggerNoContent json value to io.Writer.
func (s PutLoggerNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutLoggerNoContent json value from io.Reader.
func (s *PutLoggerNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutLoggerNoContent from json stream.
func (s *PutLoggerNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutMachineConfigurationNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutMachineConfigurationNoContent json value to io.Writer.
func (s PutMachineConfigurationNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutMachineConfigurationNoContent json value from io.Reader.
func (s *PutMachineConfigurationNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutMachineConfigurationNoContent from json stream.
func (s *PutMachineConfigurationNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutMetricsNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// WriteJSONTo writes PutMetricsNoContent json value to io.Writer.
func (s PutMetricsNoContent) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads PutMetricsNoContent json value from io.Reader.
func (s *PutMetricsNoContent) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads PutMetricsNoContent from json stream.
func (s *PutMetricsNoContent) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s RateLimiter) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Bandwidth.Set {
		more.More()
		j.WriteObjectField("bandwidth")
		s.Bandwidth.WriteJSON(j)
	}
	if s.Ops.Set {
		more.More()
		j.WriteObjectField("ops")
		s.Ops.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes RateLimiter json value to io.Writer.
func (s RateLimiter) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads RateLimiter json value from io.Reader.
func (s *RateLimiter) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads RateLimiter from json stream.
func (s *RateLimiter) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "bandwidth":
			if err := func() error {
				if err := s.Bandwidth.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "ops":
			if err := func() error {
				if err := s.Ops.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotCreateParams) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("mem_file_path")
	j.WriteString(s.MemFilePath)
	more.More()
	j.WriteObjectField("snapshot_path")
	j.WriteString(s.SnapshotPath)
	if s.SnapshotType.Set {
		more.More()
		j.WriteObjectField("snapshot_type")
		s.SnapshotType.WriteJSON(j)
	}
	if s.Version.Set {
		more.More()
		j.WriteObjectField("version")
		s.Version.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// WriteJSONTo writes SnapshotCreateParams json value to io.Writer.
func (s SnapshotCreateParams) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads SnapshotCreateParams json value from io.Reader.
func (s *SnapshotCreateParams) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads SnapshotCreateParams from json stream.
func (s *SnapshotCreateParams) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "mem_file_path":
			if err := func() error {
				s.MemFilePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_path":
			if err := func() error {
				s.SnapshotPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_type":
			if err := func() error {
				if err := s.SnapshotType.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "version":
			if err := func() error {
				if err := s.Version.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotCreateParamsSnapshotType) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads SnapshotCreateParamsSnapshotType from json stream.
func (s *SnapshotCreateParamsSnapshotType) ReadJSON(i *json.Iterator) error {
	*s = SnapshotCreateParamsSnapshotType(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotLoadParams) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.EnableDiffSnapshots.Set {
		more.More()
		j.WriteObjectField("enable_diff_snapshots")
		s.EnableDiffSnapshots.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("mem_file_path")
	j.WriteString(s.MemFilePath)
	if s.ResumeVM.Set {
		more.More()
		j.WriteObjectField("resume_vm")
		s.ResumeVM.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("snapshot_path")
	j.WriteString(s.SnapshotPath)
	j.WriteObjectEnd()
}

// WriteJSONTo writes SnapshotLoadParams json value to io.Writer.
func (s SnapshotLoadParams) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads SnapshotLoadParams json value from io.Reader.
func (s *SnapshotLoadParams) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads SnapshotLoadParams from json stream.
func (s *SnapshotLoadParams) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "enable_diff_snapshots":
			if err := func() error {
				if err := s.EnableDiffSnapshots.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mem_file_path":
			if err := func() error {
				s.MemFilePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "resume_vm":
			if err := func() error {
				if err := s.ResumeVM.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_path":
			if err := func() error {
				s.SnapshotPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s TokenBucket) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.OneTimeBurst.Set {
		more.More()
		j.WriteObjectField("one_time_burst")
		s.OneTimeBurst.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("refill_time")
	j.WriteInt64(s.RefillTime)
	more.More()
	j.WriteObjectField("size")
	j.WriteInt64(s.Size)
	j.WriteObjectEnd()
}

// WriteJSONTo writes TokenBucket json value to io.Writer.
func (s TokenBucket) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads TokenBucket json value from io.Reader.
func (s *TokenBucket) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads TokenBucket from json stream.
func (s *TokenBucket) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "one_time_burst":
			if err := func() error {
				if err := s.OneTimeBurst.ReadJSON(i); err != nil {
					return err
				}
				return nil
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "refill_time":
			if err := func() error {
				s.RefillTime = int64(i.ReadInt64())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "size":
			if err := func() error {
				s.Size = int64(i.ReadInt64())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s VMState) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads VMState from json stream.
func (s *VMState) ReadJSON(i *json.Iterator) error {
	*s = VMState(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s VM) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("state")
	s.State.WriteJSON(j)
	j.WriteObjectEnd()
}

// WriteJSONTo writes VM json value to io.Writer.
func (s VM) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads VM json value from io.Reader.
func (s *VM) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads VM from json stream.
func (s *VM) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "state":
			if err := func() error {
				s.State = VMState(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Vsock) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("guest_cid")
	j.WriteInt(s.GuestCid)
	more.More()
	j.WriteObjectField("uds_path")
	j.WriteString(s.UdsPath)
	more.More()
	j.WriteObjectField("vsock_id")
	j.WriteString(s.VsockID)
	j.WriteObjectEnd()
}

// WriteJSONTo writes Vsock json value to io.Writer.
func (s Vsock) WriteJSONTo(w io.Writer) error {
	j := json.GetStream(w)
	defer json.PutStream(j)
	s.WriteJSON(j)
	return j.Flush()
}

// ReadJSONFrom reads Vsock json value from io.Reader.
func (s *Vsock) ReadJSONFrom(r io.Reader) error {
	buf := json.GetBuffer()
	defer json.PutBuffer(buf)

	if _, err := buf.ReadFrom(r); err != nil {
		return err
	}
	i := json.GetIterator()
	i.ResetBytes(buf.Bytes())
	defer json.PutIterator(i)

	return s.ReadJSON(i)
}

// ReadJSON reads Vsock from json stream.
func (s *Vsock) ReadJSON(i *json.Iterator) error {
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "guest_cid":
			if err := func() error {
				s.GuestCid = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "uds_path":
			if err := func() error {
				s.UdsPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vsock_id":
			if err := func() error {
				s.VsockID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}
