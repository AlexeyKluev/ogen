// Code generated by ogen, DO NOT EDIT.

package api

import (
	"bytes"
	"context"
	"errors"
	"fmt"
	"io"
	"math"
	"net"
	"net/http"
	"net/url"
	"regexp"
	"sort"
	"strconv"
	"strings"
	"time"

	"github.com/go-chi/chi/v5"
	"github.com/google/uuid"
	"github.com/ogen-go/ogen/conv"
	ht "github.com/ogen-go/ogen/http"
	"github.com/ogen-go/ogen/json"
	"github.com/ogen-go/ogen/otelogen"
	"github.com/ogen-go/ogen/uri"
	"github.com/ogen-go/ogen/validate"
	"go.opentelemetry.io/otel"
	"go.opentelemetry.io/otel/metric"
	"go.opentelemetry.io/otel/trace"
)

// No-op definition for keeping imports.
var (
	_ = context.Background()
	_ = fmt.Stringer(nil)
	_ = strings.Builder{}
	_ = errors.Is
	_ = sort.Ints
	_ = chi.Context{}
	_ = http.MethodGet
	_ = io.Copy
	_ = json.Marshal
	_ = bytes.NewReader
	_ = strconv.ParseInt
	_ = time.Time{}
	_ = conv.ToInt32
	_ = uuid.UUID{}
	_ = uri.PathEncoder{}
	_ = url.URL{}
	_ = math.Mod
	_ = validate.Int{}
	_ = ht.NewRequest
	_ = net.IP{}
	_ = otelogen.Version
	_ = trace.TraceIDFromHex
	_ = otel.GetTracerProvider
	_ = metric.NewNoopMeterProvider
	_ = regexp.MustCompile
)

// WriteJSON implements json.Marshaler.
func (s Balloon) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("amount_mib")
	j.WriteInt(s.AmountMib)
	more.More()
	j.WriteObjectField("deflate_on_oom")
	j.WriteBool(s.DeflateOnOom)
	if s.StatsPollingIntervalS.Set {
		more.More()
		j.WriteObjectField("stats_polling_interval_s")
		s.StatsPollingIntervalS.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads Balloon from json stream.
func (s *Balloon) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Balloon to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "amount_mib":
			if err := func() error {
				s.AmountMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "deflate_on_oom":
			if err := func() error {
				s.DeflateOnOom = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "stats_polling_interval_s":
			if err := func() error {
				s.StatsPollingIntervalS.Reset()
				if err := s.StatsPollingIntervalS.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonStats) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("actual_mib")
	j.WriteInt(s.ActualMib)
	more.More()
	j.WriteObjectField("actual_pages")
	j.WriteInt(s.ActualPages)
	if s.AvailableMemory.Set {
		more.More()
		j.WriteObjectField("available_memory")
		s.AvailableMemory.WriteJSON(j)
	}
	if s.DiskCaches.Set {
		more.More()
		j.WriteObjectField("disk_caches")
		s.DiskCaches.WriteJSON(j)
	}
	if s.FreeMemory.Set {
		more.More()
		j.WriteObjectField("free_memory")
		s.FreeMemory.WriteJSON(j)
	}
	if s.HugetlbAllocations.Set {
		more.More()
		j.WriteObjectField("hugetlb_allocations")
		s.HugetlbAllocations.WriteJSON(j)
	}
	if s.HugetlbFailures.Set {
		more.More()
		j.WriteObjectField("hugetlb_failures")
		s.HugetlbFailures.WriteJSON(j)
	}
	if s.MajorFaults.Set {
		more.More()
		j.WriteObjectField("major_faults")
		s.MajorFaults.WriteJSON(j)
	}
	if s.MinorFaults.Set {
		more.More()
		j.WriteObjectField("minor_faults")
		s.MinorFaults.WriteJSON(j)
	}
	if s.SwapIn.Set {
		more.More()
		j.WriteObjectField("swap_in")
		s.SwapIn.WriteJSON(j)
	}
	if s.SwapOut.Set {
		more.More()
		j.WriteObjectField("swap_out")
		s.SwapOut.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("target_mib")
	j.WriteInt(s.TargetMib)
	more.More()
	j.WriteObjectField("target_pages")
	j.WriteInt(s.TargetPages)
	if s.TotalMemory.Set {
		more.More()
		j.WriteObjectField("total_memory")
		s.TotalMemory.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads BalloonStats from json stream.
func (s *BalloonStats) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode BalloonStats to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "actual_mib":
			if err := func() error {
				s.ActualMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "actual_pages":
			if err := func() error {
				s.ActualPages = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "available_memory":
			if err := func() error {
				s.AvailableMemory.Reset()
				if err := s.AvailableMemory.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "disk_caches":
			if err := func() error {
				s.DiskCaches.Reset()
				if err := s.DiskCaches.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "free_memory":
			if err := func() error {
				s.FreeMemory.Reset()
				if err := s.FreeMemory.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "hugetlb_allocations":
			if err := func() error {
				s.HugetlbAllocations.Reset()
				if err := s.HugetlbAllocations.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "hugetlb_failures":
			if err := func() error {
				s.HugetlbFailures.Reset()
				if err := s.HugetlbFailures.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "major_faults":
			if err := func() error {
				s.MajorFaults.Reset()
				if err := s.MajorFaults.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "minor_faults":
			if err := func() error {
				s.MinorFaults.Reset()
				if err := s.MinorFaults.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "swap_in":
			if err := func() error {
				s.SwapIn.Reset()
				if err := s.SwapIn.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "swap_out":
			if err := func() error {
				s.SwapOut.Reset()
				if err := s.SwapOut.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "target_mib":
			if err := func() error {
				s.TargetMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "target_pages":
			if err := func() error {
				s.TargetPages = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "total_memory":
			if err := func() error {
				s.TotalMemory.Reset()
				if err := s.TotalMemory.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonStatsUpdate) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("stats_polling_interval_s")
	j.WriteInt(s.StatsPollingIntervalS)
	j.WriteObjectEnd()
}

// ReadJSON reads BalloonStatsUpdate from json stream.
func (s *BalloonStatsUpdate) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode BalloonStatsUpdate to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "stats_polling_interval_s":
			if err := func() error {
				s.StatsPollingIntervalS = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BalloonUpdate) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("amount_mib")
	j.WriteInt(s.AmountMib)
	j.WriteObjectEnd()
}

// ReadJSON reads BalloonUpdate from json stream.
func (s *BalloonUpdate) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode BalloonUpdate to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "amount_mib":
			if err := func() error {
				s.AmountMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s BootSource) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.BootArgs.Set {
		more.More()
		j.WriteObjectField("boot_args")
		s.BootArgs.WriteJSON(j)
	}
	if s.InitrdPath.Set {
		more.More()
		j.WriteObjectField("initrd_path")
		s.InitrdPath.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("kernel_image_path")
	j.WriteString(s.KernelImagePath)
	j.WriteObjectEnd()
}

// ReadJSON reads BootSource from json stream.
func (s *BootSource) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode BootSource to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "boot_args":
			if err := func() error {
				s.BootArgs.Reset()
				if err := s.BootArgs.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "initrd_path":
			if err := func() error {
				s.InitrdPath.Reset()
				if err := s.InitrdPath.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "kernel_image_path":
			if err := func() error {
				s.KernelImagePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CpuTemplate) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads CpuTemplate from json stream.
func (s *CpuTemplate) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode CpuTemplate to nil`)
	}
	*s = CpuTemplate(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CreateSnapshotResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads CreateSnapshotResNoContent from json stream.
func (s *CreateSnapshotResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode CreateSnapshotResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s CreateSyncActionResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads CreateSyncActionResNoContent from json stream.
func (s *CreateSyncActionResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode CreateSyncActionResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Drive) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.CacheType.Set {
		more.More()
		j.WriteObjectField("cache_type")
		s.CacheType.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("drive_id")
	j.WriteString(s.DriveID)
	more.More()
	j.WriteObjectField("is_read_only")
	j.WriteBool(s.IsReadOnly)
	more.More()
	j.WriteObjectField("is_root_device")
	j.WriteBool(s.IsRootDevice)
	if s.Partuuid.Set {
		more.More()
		j.WriteObjectField("partuuid")
		s.Partuuid.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("path_on_host")
	j.WriteString(s.PathOnHost)
	if s.RateLimiter.Set {
		more.More()
		j.WriteObjectField("rate_limiter")
		s.RateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads Drive from json stream.
func (s *Drive) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Drive to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "cache_type":
			if err := func() error {
				s.CacheType.Reset()
				if err := s.CacheType.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "drive_id":
			if err := func() error {
				s.DriveID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "is_read_only":
			if err := func() error {
				s.IsReadOnly = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "is_root_device":
			if err := func() error {
				s.IsRootDevice = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "partuuid":
			if err := func() error {
				s.Partuuid.Reset()
				if err := s.Partuuid.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "path_on_host":
			if err := func() error {
				s.PathOnHost = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rate_limiter":
			if err := func() error {
				s.RateLimiter.Reset()
				if err := s.RateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Error) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.FaultMessage.Set {
		more.More()
		j.WriteObjectField("fault_message")
		s.FaultMessage.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads Error from json stream.
func (s *Error) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Error to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "fault_message":
			if err := func() error {
				s.FaultMessage.Reset()
				if err := s.FaultMessage.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s ErrorStatusCode) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads ErrorStatusCode from json stream.
func (s *ErrorStatusCode) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode ErrorStatusCode to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s FullVmConfiguration) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.BalloonDevice.Set {
		more.More()
		j.WriteObjectField("balloon_device")
		s.BalloonDevice.WriteJSON(j)
	}
	if s.BlockDevices != nil {
		more.More()
		j.WriteObjectField("block_devices")
		more.Down()
		j.WriteArrayStart()
		for _, elem := range s.BlockDevices {
			more.More()
			elem.WriteJSON(j)
		}
		j.WriteArrayEnd()
		more.Up()
	}
	if s.BootSource.Set {
		more.More()
		j.WriteObjectField("boot_source")
		s.BootSource.WriteJSON(j)
	}
	if s.Logger.Set {
		more.More()
		j.WriteObjectField("logger")
		s.Logger.WriteJSON(j)
	}
	if s.MachineConfig.Set {
		more.More()
		j.WriteObjectField("machine_config")
		s.MachineConfig.WriteJSON(j)
	}
	if s.Metrics.Set {
		more.More()
		j.WriteObjectField("metrics")
		s.Metrics.WriteJSON(j)
	}
	if s.MmdsConfig.Set {
		more.More()
		j.WriteObjectField("mmds_config")
		s.MmdsConfig.WriteJSON(j)
	}
	if s.NetDevices != nil {
		more.More()
		j.WriteObjectField("net_devices")
		more.Down()
		j.WriteArrayStart()
		for _, elem := range s.NetDevices {
			more.More()
			elem.WriteJSON(j)
		}
		j.WriteArrayEnd()
		more.Up()
	}
	if s.VsockDevice.Set {
		more.More()
		j.WriteObjectField("vsock_device")
		s.VsockDevice.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads FullVmConfiguration from json stream.
func (s *FullVmConfiguration) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode FullVmConfiguration to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "balloon_device":
			if err := func() error {
				s.BalloonDevice.Reset()
				if err := s.BalloonDevice.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "block_devices":
			if err := func() error {
				s.BlockDevices = nil
				var retErr error
				i.ReadArrayCB(func(i *json.Iterator) bool {
					var elem Drive
					if err := func() error {
						if err := elem.ReadJSON(i); err != nil {
							return err
						}
						return i.Error
					}(); err != nil {
						retErr = err
						return false
					}
					s.BlockDevices = append(s.BlockDevices, elem)
					return true
				})
				if retErr != nil {
					return retErr
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "boot_source":
			if err := func() error {
				s.BootSource.Reset()
				if err := s.BootSource.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "logger":
			if err := func() error {
				s.Logger.Reset()
				if err := s.Logger.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "machine_config":
			if err := func() error {
				s.MachineConfig.Reset()
				if err := s.MachineConfig.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "metrics":
			if err := func() error {
				s.Metrics.Reset()
				if err := s.Metrics.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mmds_config":
			if err := func() error {
				s.MmdsConfig.Reset()
				if err := s.MmdsConfig.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "net_devices":
			if err := func() error {
				s.NetDevices = nil
				var retErr error
				i.ReadArrayCB(func(i *json.Iterator) bool {
					var elem NetworkInterface
					if err := func() error {
						if err := elem.ReadJSON(i); err != nil {
							return err
						}
						return i.Error
					}(); err != nil {
						retErr = err
						return false
					}
					s.NetDevices = append(s.NetDevices, elem)
					return true
				})
				if retErr != nil {
					return retErr
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vsock_device":
			if err := func() error {
				s.VsockDevice.Reset()
				if err := s.VsockDevice.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceActionInfo) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("action_type")
	s.ActionType.WriteJSON(j)
	j.WriteObjectEnd()
}

// ReadJSON reads InstanceActionInfo from json stream.
func (s *InstanceActionInfo) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode InstanceActionInfo to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "action_type":
			if err := func() error {
				if err := s.ActionType.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceActionInfoActionType) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads InstanceActionInfoActionType from json stream.
func (s *InstanceActionInfoActionType) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode InstanceActionInfoActionType to nil`)
	}
	*s = InstanceActionInfoActionType(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceInfo) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("app_name")
	j.WriteString(s.AppName)
	more.More()
	j.WriteObjectField("id")
	j.WriteString(s.ID)
	more.More()
	j.WriteObjectField("state")
	s.State.WriteJSON(j)
	more.More()
	j.WriteObjectField("vmm_version")
	j.WriteString(s.VmmVersion)
	j.WriteObjectEnd()
}

// ReadJSON reads InstanceInfo from json stream.
func (s *InstanceInfo) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode InstanceInfo to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "app_name":
			if err := func() error {
				s.AppName = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "id":
			if err := func() error {
				s.ID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "state":
			if err := func() error {
				if err := s.State.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vmm_version":
			if err := func() error {
				s.VmmVersion = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s InstanceInfoState) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads InstanceInfoState from json stream.
func (s *InstanceInfoState) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode InstanceInfoState to nil`)
	}
	*s = InstanceInfoState(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s LoadSnapshotResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads LoadSnapshotResNoContent from json stream.
func (s *LoadSnapshotResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode LoadSnapshotResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Logger) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Level.Set {
		more.More()
		j.WriteObjectField("level")
		s.Level.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("log_path")
	j.WriteString(s.LogPath)
	if s.ShowLevel.Set {
		more.More()
		j.WriteObjectField("show_level")
		s.ShowLevel.WriteJSON(j)
	}
	if s.ShowLogOrigin.Set {
		more.More()
		j.WriteObjectField("show_log_origin")
		s.ShowLogOrigin.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads Logger from json stream.
func (s *Logger) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Logger to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "level":
			if err := func() error {
				s.Level.Reset()
				if err := s.Level.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "log_path":
			if err := func() error {
				s.LogPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "show_level":
			if err := func() error {
				s.ShowLevel.Reset()
				if err := s.ShowLevel.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "show_log_origin":
			if err := func() error {
				s.ShowLogOrigin.Reset()
				if err := s.ShowLogOrigin.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s LoggerLevel) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads LoggerLevel from json stream.
func (s *LoggerLevel) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode LoggerLevel to nil`)
	}
	*s = LoggerLevel(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MachineConfiguration) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.CPUTemplate.Set {
		more.More()
		j.WriteObjectField("cpu_template")
		s.CPUTemplate.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("ht_enabled")
	j.WriteBool(s.HtEnabled)
	more.More()
	j.WriteObjectField("mem_size_mib")
	j.WriteInt(s.MemSizeMib)
	if s.TrackDirtyPages.Set {
		more.More()
		j.WriteObjectField("track_dirty_pages")
		s.TrackDirtyPages.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("vcpu_count")
	j.WriteInt(s.VcpuCount)
	j.WriteObjectEnd()
}

// ReadJSON reads MachineConfiguration from json stream.
func (s *MachineConfiguration) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MachineConfiguration to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "cpu_template":
			if err := func() error {
				s.CPUTemplate.Reset()
				if err := s.CPUTemplate.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "ht_enabled":
			if err := func() error {
				s.HtEnabled = bool(i.ReadBool())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mem_size_mib":
			if err := func() error {
				s.MemSizeMib = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "track_dirty_pages":
			if err := func() error {
				s.TrackDirtyPages.Reset()
				if err := s.TrackDirtyPages.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vcpu_count":
			if err := func() error {
				s.VcpuCount = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Metrics) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("metrics_path")
	j.WriteString(s.MetricsPath)
	j.WriteObjectEnd()
}

// ReadJSON reads Metrics from json stream.
func (s *Metrics) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Metrics to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "metrics_path":
			if err := func() error {
				s.MetricsPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsConfig) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Ipv4Address.Set {
		more.More()
		j.WriteObjectField("ipv4_address")
		s.Ipv4Address.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsConfig from json stream.
func (s *MmdsConfig) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsConfig to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "ipv4_address":
			if err := func() error {
				s.Ipv4Address.Reset()
				if err := s.Ipv4Address.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsConfigPutResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsConfigPutResNoContent from json stream.
func (s *MmdsConfigPutResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsConfigPutResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsGetResOK) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsGetResOK from json stream.
func (s *MmdsGetResOK) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsGetResOK to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPatchReq) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsPatchReq from json stream.
func (s *MmdsPatchReq) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsPatchReq to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPatchResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsPatchResNoContent from json stream.
func (s *MmdsPatchResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsPatchResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPutReq) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsPutReq from json stream.
func (s *MmdsPutReq) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsPutReq to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s MmdsPutResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads MmdsPutResNoContent from json stream.
func (s *MmdsPutResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode MmdsPutResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s NetworkInterface) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.AllowMmdsRequests.Set {
		more.More()
		j.WriteObjectField("allow_mmds_requests")
		s.AllowMmdsRequests.WriteJSON(j)
	}
	if s.GuestMAC.Set {
		more.More()
		j.WriteObjectField("guest_mac")
		s.GuestMAC.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("host_dev_name")
	j.WriteString(s.HostDevName)
	more.More()
	j.WriteObjectField("iface_id")
	j.WriteString(s.IfaceID)
	if s.RxRateLimiter.Set {
		more.More()
		j.WriteObjectField("rx_rate_limiter")
		s.RxRateLimiter.WriteJSON(j)
	}
	if s.TxRateLimiter.Set {
		more.More()
		j.WriteObjectField("tx_rate_limiter")
		s.TxRateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads NetworkInterface from json stream.
func (s *NetworkInterface) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode NetworkInterface to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "allow_mmds_requests":
			if err := func() error {
				s.AllowMmdsRequests.Reset()
				if err := s.AllowMmdsRequests.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "guest_mac":
			if err := func() error {
				s.GuestMAC.Reset()
				if err := s.GuestMAC.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "host_dev_name":
			if err := func() error {
				s.HostDevName = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "iface_id":
			if err := func() error {
				s.IfaceID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rx_rate_limiter":
			if err := func() error {
				s.RxRateLimiter.Reset()
				if err := s.RxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "tx_rate_limiter":
			if err := func() error {
				s.TxRateLimiter.Reset()
				if err := s.TxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON writes json value of Balloon to json stream.
func (o OptBalloon) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Balloon from json iterator.
func (o *OptBalloon) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptBalloon to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptBalloon", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of bool to json stream.
func (o OptBool) WriteJSON(j *json.Stream) {
	j.WriteBool(bool(o.Value))
}

// ReadJSON reads json value of bool from json iterator.
func (o *OptBool) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptBool to nil`)
	}
	switch i.WhatIsNext() {
	case json.BoolValue:
		o.Set = true
		o.Value = bool(i.ReadBool())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptBool", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of BootSource to json stream.
func (o OptBootSource) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of BootSource from json iterator.
func (o *OptBootSource) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptBootSource to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptBootSource", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of CpuTemplate to json stream.
func (o OptCpuTemplate) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of CpuTemplate from json iterator.
func (o *OptCpuTemplate) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptCpuTemplate to nil`)
	}
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = CpuTemplate(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptCpuTemplate", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of int to json stream.
func (o OptInt) WriteJSON(j *json.Stream) {
	j.WriteInt(int(o.Value))
}

// ReadJSON reads json value of int from json iterator.
func (o *OptInt) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptInt to nil`)
	}
	switch i.WhatIsNext() {
	case json.NumberValue:
		o.Set = true
		o.Value = int(i.ReadInt())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptInt", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of int64 to json stream.
func (o OptInt64) WriteJSON(j *json.Stream) {
	j.WriteInt64(int64(o.Value))
}

// ReadJSON reads json value of int64 from json iterator.
func (o *OptInt64) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptInt64 to nil`)
	}
	switch i.WhatIsNext() {
	case json.NumberValue:
		o.Set = true
		o.Value = int64(i.ReadInt64())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptInt64", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of Logger to json stream.
func (o OptLogger) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Logger from json iterator.
func (o *OptLogger) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptLogger to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptLogger", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of LoggerLevel to json stream.
func (o OptLoggerLevel) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of LoggerLevel from json iterator.
func (o *OptLoggerLevel) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptLoggerLevel to nil`)
	}
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = LoggerLevel(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptLoggerLevel", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of MachineConfiguration to json stream.
func (o OptMachineConfiguration) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of MachineConfiguration from json iterator.
func (o *OptMachineConfiguration) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptMachineConfiguration to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptMachineConfiguration", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of Metrics to json stream.
func (o OptMetrics) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Metrics from json iterator.
func (o *OptMetrics) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptMetrics to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptMetrics", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of MmdsConfig to json stream.
func (o OptMmdsConfig) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of MmdsConfig from json iterator.
func (o *OptMmdsConfig) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptMmdsConfig to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptMmdsConfig", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of RateLimiter to json stream.
func (o OptRateLimiter) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of RateLimiter from json iterator.
func (o *OptRateLimiter) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptRateLimiter to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptRateLimiter", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of SnapshotCreateParamsSnapshotType to json stream.
func (o OptSnapshotCreateParamsSnapshotType) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of SnapshotCreateParamsSnapshotType from json iterator.
func (o *OptSnapshotCreateParamsSnapshotType) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptSnapshotCreateParamsSnapshotType to nil`)
	}
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = SnapshotCreateParamsSnapshotType(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptSnapshotCreateParamsSnapshotType", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of string to json stream.
func (o OptString) WriteJSON(j *json.Stream) {
	j.WriteString(string(o.Value))
}

// ReadJSON reads json value of string from json iterator.
func (o *OptString) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptString to nil`)
	}
	switch i.WhatIsNext() {
	case json.StringValue:
		o.Set = true
		o.Value = string(i.ReadString())
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptString", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of TokenBucket to json stream.
func (o OptTokenBucket) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of TokenBucket from json iterator.
func (o *OptTokenBucket) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptTokenBucket to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptTokenBucket", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON writes json value of Vsock to json stream.
func (o OptVsock) WriteJSON(j *json.Stream) {
	o.Value.WriteJSON(j)
}

// ReadJSON reads json value of Vsock from json iterator.
func (o *OptVsock) ReadJSON(i *json.Iterator) error {
	if o == nil {
		fmt.Errorf(`invalid: unable to decode OptVsock to nil`)
	}
	switch i.WhatIsNext() {
	case json.ObjectValue:
		o.Set = true
		if err := o.Value.ReadJSON(i); err != nil {
			return err
		}
		return i.Error
	default:
		return fmt.Errorf("unexpected type %q while reading OptVsock", json.TypeStr(i.WhatIsNext()))
	}
}

// WriteJSON implements json.Marshaler.
func (s PartialDrive) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("drive_id")
	j.WriteString(s.DriveID)
	if s.PathOnHost.Set {
		more.More()
		j.WriteObjectField("path_on_host")
		s.PathOnHost.WriteJSON(j)
	}
	if s.RateLimiter.Set {
		more.More()
		j.WriteObjectField("rate_limiter")
		s.RateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads PartialDrive from json stream.
func (s *PartialDrive) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PartialDrive to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "drive_id":
			if err := func() error {
				s.DriveID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "path_on_host":
			if err := func() error {
				s.PathOnHost.Reset()
				if err := s.PathOnHost.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rate_limiter":
			if err := func() error {
				s.RateLimiter.Reset()
				if err := s.RateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PartialNetworkInterface) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("iface_id")
	j.WriteString(s.IfaceID)
	if s.RxRateLimiter.Set {
		more.More()
		j.WriteObjectField("rx_rate_limiter")
		s.RxRateLimiter.WriteJSON(j)
	}
	if s.TxRateLimiter.Set {
		more.More()
		j.WriteObjectField("tx_rate_limiter")
		s.TxRateLimiter.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads PartialNetworkInterface from json stream.
func (s *PartialNetworkInterface) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PartialNetworkInterface to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "iface_id":
			if err := func() error {
				s.IfaceID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "rx_rate_limiter":
			if err := func() error {
				s.RxRateLimiter.Reset()
				if err := s.RxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "tx_rate_limiter":
			if err := func() error {
				s.TxRateLimiter.Reset()
				if err := s.TxRateLimiter.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchBalloonResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchBalloonResNoContent from json stream.
func (s *PatchBalloonResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchBalloonResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchBalloonStatsIntervalResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchBalloonStatsIntervalResNoContent from json stream.
func (s *PatchBalloonStatsIntervalResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchBalloonStatsIntervalResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchGuestDriveByIDResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchGuestDriveByIDResNoContent from json stream.
func (s *PatchGuestDriveByIDResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchGuestDriveByIDResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchGuestNetworkInterfaceByIDResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchGuestNetworkInterfaceByIDResNoContent from json stream.
func (s *PatchGuestNetworkInterfaceByIDResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchGuestNetworkInterfaceByIDResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchMachineConfigurationResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchMachineConfigurationResNoContent from json stream.
func (s *PatchMachineConfigurationResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchMachineConfigurationResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PatchVmResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PatchVmResNoContent from json stream.
func (s *PatchVmResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PatchVmResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutBalloonResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutBalloonResNoContent from json stream.
func (s *PutBalloonResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutBalloonResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestBootSourceResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutGuestBootSourceResNoContent from json stream.
func (s *PutGuestBootSourceResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutGuestBootSourceResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestDriveByIDResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutGuestDriveByIDResNoContent from json stream.
func (s *PutGuestDriveByIDResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutGuestDriveByIDResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestNetworkInterfaceByIDResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutGuestNetworkInterfaceByIDResNoContent from json stream.
func (s *PutGuestNetworkInterfaceByIDResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutGuestNetworkInterfaceByIDResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutGuestVsockResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutGuestVsockResNoContent from json stream.
func (s *PutGuestVsockResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutGuestVsockResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutLoggerResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutLoggerResNoContent from json stream.
func (s *PutLoggerResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutLoggerResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutMachineConfigurationResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutMachineConfigurationResNoContent from json stream.
func (s *PutMachineConfigurationResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutMachineConfigurationResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s PutMetricsResNoContent) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	j.WriteObjectEnd()
}

// ReadJSON reads PutMetricsResNoContent from json stream.
func (s *PutMetricsResNoContent) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode PutMetricsResNoContent to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s RateLimiter) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.Bandwidth.Set {
		more.More()
		j.WriteObjectField("bandwidth")
		s.Bandwidth.WriteJSON(j)
	}
	if s.Ops.Set {
		more.More()
		j.WriteObjectField("ops")
		s.Ops.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads RateLimiter from json stream.
func (s *RateLimiter) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode RateLimiter to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "bandwidth":
			if err := func() error {
				s.Bandwidth.Reset()
				if err := s.Bandwidth.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "ops":
			if err := func() error {
				s.Ops.Reset()
				if err := s.Ops.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotCreateParams) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("mem_file_path")
	j.WriteString(s.MemFilePath)
	more.More()
	j.WriteObjectField("snapshot_path")
	j.WriteString(s.SnapshotPath)
	if s.SnapshotType.Set {
		more.More()
		j.WriteObjectField("snapshot_type")
		s.SnapshotType.WriteJSON(j)
	}
	if s.Version.Set {
		more.More()
		j.WriteObjectField("version")
		s.Version.WriteJSON(j)
	}
	j.WriteObjectEnd()
}

// ReadJSON reads SnapshotCreateParams from json stream.
func (s *SnapshotCreateParams) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode SnapshotCreateParams to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "mem_file_path":
			if err := func() error {
				s.MemFilePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_path":
			if err := func() error {
				s.SnapshotPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_type":
			if err := func() error {
				s.SnapshotType.Reset()
				if err := s.SnapshotType.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "version":
			if err := func() error {
				s.Version.Reset()
				if err := s.Version.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotCreateParamsSnapshotType) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads SnapshotCreateParamsSnapshotType from json stream.
func (s *SnapshotCreateParamsSnapshotType) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode SnapshotCreateParamsSnapshotType to nil`)
	}
	*s = SnapshotCreateParamsSnapshotType(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s SnapshotLoadParams) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.EnableDiffSnapshots.Set {
		more.More()
		j.WriteObjectField("enable_diff_snapshots")
		s.EnableDiffSnapshots.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("mem_file_path")
	j.WriteString(s.MemFilePath)
	if s.ResumeVM.Set {
		more.More()
		j.WriteObjectField("resume_vm")
		s.ResumeVM.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("snapshot_path")
	j.WriteString(s.SnapshotPath)
	j.WriteObjectEnd()
}

// ReadJSON reads SnapshotLoadParams from json stream.
func (s *SnapshotLoadParams) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode SnapshotLoadParams to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "enable_diff_snapshots":
			if err := func() error {
				s.EnableDiffSnapshots.Reset()
				if err := s.EnableDiffSnapshots.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "mem_file_path":
			if err := func() error {
				s.MemFilePath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "resume_vm":
			if err := func() error {
				s.ResumeVM.Reset()
				if err := s.ResumeVM.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "snapshot_path":
			if err := func() error {
				s.SnapshotPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s TokenBucket) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	if s.OneTimeBurst.Set {
		more.More()
		j.WriteObjectField("one_time_burst")
		s.OneTimeBurst.WriteJSON(j)
	}
	more.More()
	j.WriteObjectField("refill_time")
	j.WriteInt64(s.RefillTime)
	more.More()
	j.WriteObjectField("size")
	j.WriteInt64(s.Size)
	j.WriteObjectEnd()
}

// ReadJSON reads TokenBucket from json stream.
func (s *TokenBucket) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode TokenBucket to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "one_time_burst":
			if err := func() error {
				s.OneTimeBurst.Reset()
				if err := s.OneTimeBurst.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "refill_time":
			if err := func() error {
				s.RefillTime = int64(i.ReadInt64())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "size":
			if err := func() error {
				s.Size = int64(i.ReadInt64())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s VM) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("state")
	s.State.WriteJSON(j)
	j.WriteObjectEnd()
}

// ReadJSON reads VM from json stream.
func (s *VM) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode VM to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "state":
			if err := func() error {
				if err := s.State.ReadJSON(i); err != nil {
					return err
				}
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s VMState) WriteJSON(j *json.Stream) {
	j.WriteString(string(s))
}

// ReadJSON reads VMState from json stream.
func (s *VMState) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode VMState to nil`)
	}
	*s = VMState(i.ReadString())
	return i.Error
}

// WriteJSON implements json.Marshaler.
func (s Vsock) WriteJSON(j *json.Stream) {
	j.WriteObjectStart()
	more := json.NewMore(j)
	defer more.Reset()
	more.More()
	j.WriteObjectField("guest_cid")
	j.WriteInt(s.GuestCid)
	more.More()
	j.WriteObjectField("uds_path")
	j.WriteString(s.UdsPath)
	more.More()
	j.WriteObjectField("vsock_id")
	j.WriteString(s.VsockID)
	j.WriteObjectEnd()
}

// ReadJSON reads Vsock from json stream.
func (s *Vsock) ReadJSON(i *json.Iterator) error {
	if s == nil {
		fmt.Errorf(`invalid: unable to decode Vsock to nil`)
	}
	var retErr error
	i.ReadObjectCB(func(i *json.Iterator, k string) bool {
		switch k {
		case "guest_cid":
			if err := func() error {
				s.GuestCid = int(i.ReadInt())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "uds_path":
			if err := func() error {
				s.UdsPath = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		case "vsock_id":
			if err := func() error {
				s.VsockID = string(i.ReadString())
				return i.Error
			}(); err != nil {
				retErr = err
				return false
			}
			return true
		default:
			i.Skip()
			return true
		}
	})
	if retErr != nil {
		return retErr
	}
	return i.Error
}
