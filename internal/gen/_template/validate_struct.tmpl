{{ define "validate_struct" }}
{{- /*Variables*/}}
{{- $schema := index . "schema" }}
{{- $varname := index . "varname" }}
{{- $errorPrefix := index . "errorPrefix" }}
{{- /*Variables*/}}

{{- if eq $schema.Kind "struct" }}
if err := {{ $varname }}.validate(); err != nil {
    {{- if $errorPrefix }}
    return fmt.Errorf("{{ $errorPrefix }}: %w", err)
    {{- else }}
    return err
    {{- end }}
}
{{- end }}
{{- end }}-